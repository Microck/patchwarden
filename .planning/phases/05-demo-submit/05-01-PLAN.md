---
phase: 05-demo-submit
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/jarspect/ui/index.html
  - src/jarspect/ui/app.js
  - src/jarspect/ui/styles.css
  - src/jarspect/api/main.py
  - src/jarspect/api/routes/ui.py
autonomous: true

must_haves:
  truths:
    - "User can upload a jar from a web page"
    - "User can see scan verdict and indicators in the browser"
  artifacts:
    - path: "src/jarspect/ui/index.html"
      provides: "Upload + results UI"
    - path: "src/jarspect/api/routes/ui.py"
      provides: "Static UI serving"
  key_links:
    - from: "src/jarspect/ui/app.js"
      to: "/upload and /scan"
      via: "fetch"
      pattern: "fetch("
---

<objective>
Add a minimal web UI for upload + scan results display.

Purpose: Make the demo flow easy to show in 2 minutes.
Output: Simple static UI served by FastAPI that calls existing endpoints.
</objective>

<execution_context>
@/home/ubuntu/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/ubuntu/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/phases/04-reputation-verdict/04-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create static UI (upload + results)</name>
  <files>
src/jarspect/ui/index.html
src/jarspect/ui/app.js
src/jarspect/ui/styles.css
  </files>
  <action>
Create a minimal, deliberate UI (no framework required) that:
- provides a file picker for `.jar`
- lets the user optionally enter author metadata (age, prior mods, reports) for demo
- on submit: calls `/upload`, then `/scan`, then shows:
  - risk tier + score
  - explanation
  - indicator list (static/behavior/reputation)

Keep it simple and fast; prioritize legibility and demo clarity.
  </action>
  <verify>python3 -c "import pathlib; assert pathlib.Path('src/jarspect/ui/index.html').exists()"</verify>
  <done>UI files exist and include JS that calls the API endpoints.</done>
</task>

<task type="auto">
  <name>Task 2: Serve UI from FastAPI</name>
  <files>
src/jarspect/api/routes/ui.py
src/jarspect/api/main.py
  </files>
  <action>
Serve the static UI at:
- `GET /` -> index.html
- static assets under `/static/*`

Ensure CORS is not required when served from the same origin.
  </action>
  <verify>python3 -c "from jarspect.api.main import app; print('ok')"</verify>
  <done>Running the server and visiting `/` loads the UI.</done>
</task>

</tasks>

<verification>
- Start server and open `http://localhost:8000/`
- Upload any jar and see a rendered verdict and indicators
</verification>

<success_criteria>
- Web UI makes upload + scan + viewing results possible without curl
</success_criteria>

<output>
After completion, create `.planning/phases/05-demo-submit/05-01-SUMMARY.md`
</output>
